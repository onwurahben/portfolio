<svg width="1450" height="600" viewBox="0 0 1450 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .box {
        fill: #ffffff;
        stroke: #d1d5db;
        stroke-width: 1.2;
        rx: 10;
      }
      .core {
        stroke: #2563eb;
        stroke-width: 1.6;
      }
      .decision {
        fill: #fef3c7;
        stroke: #f59e0b;
        stroke-width: 1.2;
      }
      .arrow {
        stroke: #9ca3af;
        stroke-width: 1.2;
        fill: none;
        marker-end: url(#arrowhead);
      }
      .arrow-fail {
        stroke: #ef4444;
        stroke-width: 1.2;
        fill: none;
        marker-end: url(#arrowhead-red);
        stroke-dasharray: 4 2;
      }
      .arrow-pass {
        stroke: #10b981;
        stroke-width: 1.2;
        fill: none;
        marker-end: url(#arrowhead-green);
      }
      .label {
        font-family: Inter, system-ui, sans-serif;
        font-size: 13px;
        fill: #111827;
        font-weight: 500;
      }
      .muted {
        font-size: 12px;
        fill: #6b7280;
      }
      .path-label {
        font-size: 11px;
        fill: #6b7280;
        font-weight: 600;
      }
    </style>

    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#9ca3af"/>
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ef4444"/>
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#10b981"/>
    </marker>
  </defs>

  <!-- USER INPUT -->
  <rect x="40" y="240" width="180" height="60" class="box"/>
  <text x="130" y="265" text-anchor="middle" class="label">User / AI Suggestion</text>
  <text x="130" y="285" text-anchor="middle" class="muted">Topic input</text>

  <!-- GENERATION WORKER -->
  <rect x="270" y="240" width="180" height="60" class="box"/>
  <text x="360" y="265" text-anchor="middle" class="label">Generation Worker</text>
  <text x="360" y="285" text-anchor="middle" class="muted">Orchestration</text>

  <!-- GPT-4 GENERATOR -->
  <rect x="500" y="240" width="180" height="60" class="box core"/>
  <text x="590" y="265" text-anchor="middle" class="label">GPT-4 Generator</text>
  <text x="590" y="285" text-anchor="middle" class="muted">Content creation</text>

  <!-- INITIAL DRAFT -->
  <rect x="730" y="240" width="160" height="60" class="box"/>
  <text x="810" y="265" text-anchor="middle" class="label">Initial Draft</text>
  <text x="810" y="285" text-anchor="middle" class="muted">Generated content</text>

  <!-- GEMINI EVALUATOR (DECISION) -->
  <polygon points="1020,230 1120,270 1020,310 920,270" class="decision"/>
  <text x="1020" y="265" text-anchor="middle" class="label">Gemini 2.0</text>
  <text x="1020" y="283" text-anchor="middle" class="muted">Evaluator</text>

  <!-- AI REWRITE LOOP -->
  <rect x="500" y="400" width="180" height="60" class="box"/>
  <text x="590" y="425" text-anchor="middle" class="label">AI Rewrite Loop</text>
  <text x="590" y="445" text-anchor="middle" class="muted">Feedback iteration</text>

  <!-- SUPABASE DB -->
  <rect x="1180" y="240" width="180" height="60" class="box"/>
  <text x="1270" y="265" text-anchor="middle" class="label">Supabase DB</text>
  <text x="1270" y="285" text-anchor="middle" class="muted">Persistence</text>

  <!-- WEB DASHBOARD -->
  <rect x="1180" y="80" width="180" height="60" class="box"/>
  <text x="1270" y="105" text-anchor="middle" class="label">Web Dashboard</text>
  <text x="1270" y="125" text-anchor="middle" class="muted">Review interface</text>

  <!-- TELEGRAM BOT -->
  <rect x="1180" y="400" width="180" height="60" class="box"/>
  <text x="1270" y="425" text-anchor="middle" class="label">Telegram Bot</text>
  <text x="1270" y="445" text-anchor="middle" class="muted">Notifications</text>

  <!-- LINKEDIN -->
  <rect x="1180" y="510" width="180" height="60" class="box"/>
  <text x="1270" y="535" text-anchor="middle" class="label">LinkedIn</text>
  <text x="1270" y="555" text-anchor="middle" class="muted">Publication</text>

  <!-- ARROWS -->
  <!-- User to Worker -->
  <path d="M220 270 L270 270" class="arrow"/>
  
  <!-- Worker to GPT-4 -->
  <path d="M450 270 L500 270" class="arrow"/>
  
  <!-- GPT-4 to Draft -->
  <path d="M680 270 L730 270" class="arrow"/>
  
  <!-- Draft to Evaluator -->
  <path d="M890 270 L920 270" class="arrow"/>
  
  <!-- Evaluator FAIL to Rewrite Loop (curved down) -->
  <path d="M1020 310 L1020 340 Q1020 360 1000 360 L700 360 Q680 360 680 380 L680 400" class="arrow-fail"/>
  <text x="860" y="350" class="path-label">FAIL (Feedback)</text>
  
  <!-- Rewrite Loop back to GPT-4 (curved up) -->
  <path d="M590 400 L590 340 Q590 320 590 300" class="arrow-fail"/>
  
  <!-- Evaluator PASS to Supabase -->
  <path d="M1120 270 L1180 270" class="arrow-pass"/>
  <text x="1150" y="260" class="path-label">PASS</text>
  
  <!-- Supabase to Dashboard -->
  <path d="M1270 240 L1270 140" class="arrow"/>
  
  <!-- Supabase to Telegram -->
  <path d="M1270 300 L1270 400" class="arrow"/>
  
  <!-- Dashboard APPROVAL to LinkedIn -->
  <path d="M1360 110 L1380 110 L1380 540 L1360 540" class="arrow-pass"/>
  <text x="1395" y="325" class="path-label">Approval</text>
  
  <!-- Telegram APPROVAL to LinkedIn -->
  <path d="M1270 460 L1270 510" class="arrow-pass"/>
  <text x="1285" y="500" class="path-label">Approval</text>
  
  <!-- Telegram REJECTION back to Rewrite Loop -->
  <path d="M1180 430 L680 430" class="arrow-fail"/>
  <text x="920" y="420" class="path-label">Rejection</text>

  <!-- SYSTEM NOTE -->
  <text x="700" y="40" text-anchor="middle" style="font-family: Inter, system-ui, sans-serif; font-size: 16px; fill: #374151; font-weight: 700;">
    Automated content generation → evaluation → approval workflow
  </text>
</svg>
